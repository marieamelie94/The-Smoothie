
<div class="container">
  <h1>Choose Amount</h1>

  <div class="amount">

    <div class="amount__selected-info-top">
      You have selected:
    </div>

    <div id="amount__selected" class="amount__selected">
      7
    </div>

    <div class="amount__selected-info-bottom">
      Smoothies
    </div>
     <div id="price_amount__selected" class="amount__selected">
      0
    </div>

    <div class="amount__measure">
      <span>7</span>
      <span>14</span>
      <span>21</span>
      <span>28</span>
    </div>

    <div class="amount__bar">
      <%= simple_form_for Order.new, :url => orders_path, :method => :post do |f| %>
      <%= f.input :smoothies_amount, as: :range, label: false,
      input_html: { id:"amount",
       min:"7", max:"28", step:"7", value:7, name:"amount"} %>
      <%= f.submit'Create Your Basket', class: 'btn-center btn btn-lg btn-success' %>
      <% end %>
    </div>

  </div>

  <%#= link_to 'Create Your Basket', orders_path(:smoothies_amount => "?smoothies_quantity"), method: :post, class: 'btn-center btn btn-lg btn-success' %>

</div>

<script>
  const amount = document.getElementById("amount");
  const selected_amount = document.getElementById("amount__selected");
  const price_amount__selected = document.getElementById("price_amount_selected");
  amount.addEventListener("change", (event) => {
      event.preventDefault();
      selected_amount.innerHTML = event.target.value;
      if (event.target.value === 7) {
        price_selected_amount.innerHTML = "6,5€/smoothie";
      } else if (event.target.value === 14) {
        price_selected_amount.innerHTML = "5,5€/smoothie";
      } else if (event.target.value === 21) {
        price_selected_amount.innerHTML = "4,5€/smoothie";
      } else {
        price_selected_amount.innerHTML = "4€/smoothie";
      }
  });

</script>
